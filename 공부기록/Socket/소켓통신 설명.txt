소켓통신 





원래는 약속없는 통신이지만 약속을 붙이면 지그비, http, mqtt가 된다.
소켓통신은 약속 없는 통신


소켓통신은 socket이란 명령어를 가지고 있다.
모든 컴퓨터는 통신을 하기 위해 출구가 필요하다.
각각의 프로그램이 각각 통신을 위한 선이 필요하지만 현실적으로 컴퓨터에 연결되어 있는 선은 하나이기 때문에 각각 통신하기 위해서 포트가 필요하다.
(포트가 없으면 컴퓨터가 데이터를 어떤 프로그램에게 줘야할지 알 수 없다.)

​

소켓을 달았다는 것은 통신을 하겠다는 의미, 양방향 통신이 됨,
서로 스트림만 연결해주면 됨(BufferedReader, BufferedWriter를 달아서 통신)

서버소켓 ------------------------ 클라이언트소켓

​양끝단에 포트를 두고 통신하는 것을 소켓통신이라고 한다.
소켓은 OS가 들고있다.
OS가 들고 있는 것을 빌려쓰는 것을 시스템콜이라고 한다.

​


소켓을 각자 달면 일대일 통신만 된다. 다대다 통신을 위해서 자바는 new 해서 객체를 만든 후 서버소켓이라는 클래스를 사용해서 사용하면 된다.
서버소켓은 통신을 하는 애가 아니고 accept를 한다.

​


서버소켓이 하는 일

어떤 소켓에서 접근요청이 오면
1. 새로운 소켓을 생성한다.
2. 서버소켓과 연결된 선을 끊는다.
3. 새로운 소켓을 연결요청이 들어온 소켓(클라이언트 소켓)에 연결한다.
4. 다시 accept요청을 대기한다.

​

이렇게 하면 소켓을 만들어서 각자 통신을 하고 서버소켓은 다른 소켓이 연결요청이 들어오면 반응할 수 있다.

​
소켓이 만들어질때마다 스레드가 필요하다.
스레드가 없는 통신도 가능(1대1)



출처: https://saludar.tistory.com/108 [ah-ryeong]